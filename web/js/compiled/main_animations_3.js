(function(a){a.fn.extend({LoaderAnimation:function(f){var k={lineWidth:15,color:"#ffffff",glowColor:"#005580",radius:75,font:"italic 13px Trebuchet MS"},t=a(this),e=a.extend(k,f),n=this;var b=e.lineWidth,u=e.color,z=e.glowColor,g=e.radius,m=e.font;this.currentPercentage=0;var l=a(window),q=Math.PI,w=1.5*q,p=0,c=!!document.createElement("canvas").getContext,y=a(window).width(),d=a(window).height(),i,x,r;var s=function(){x.text((n.currentPercentage|0)+"%")};var o=function(){if(c){r.clearRect(0,0,y,d)}return true};var j=function(){var A=(2/100)*n.currentPercentage,C=y/2,B=d/2;p=(A*q)+w;o();r.restore();r.beginPath();r.font=m;r.fillStyle=u;r.textAlign="center";r.textBaseline="middle";r.fillText("ONEOWEB "+(n.currentPercentage|0)+"%",C,B);r.lineWidth=b;r.strokeStyle=u;if(z){r.shadowOffsetX=0;r.shadowOffsetY=0;r.shadowBlur=20;r.shadowColor=z}r.arc(C,B,g,w,p,false);r.stroke();r.save()};var v=function(){if(n.currentPercentage===100){t.delay(1000).fadeOut(function(){t.remove()});l.off("resize.preloader")}};var h=function(){y=a(window).width();d=a(window).height();if(c){i[0].width=y;i[0].height=d}t.width(y);t.height(d)};n.init=function(){if(c){i=a("<canvas>");t.append(i);r=i[0].getContext("2d")}else{x=a("<i class='fallback'></i>");t.append(x)}h();l.on("resize.preloader",h)};n.update=function(A){a.Animation(n,{currentPercentage:A},{duration:3000}).progress(function(){if(c){j()}else{s()}}).done(v)};this.init();return this}})})(jQuery);